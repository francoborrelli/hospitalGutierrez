{% extends 'utils/base.html.twig' %} 
{% import 'utils/alert.html.twig' as alert %}
    

{% block stylesheets %}
<link rel="stylesheet" href="/assets/dataTables/css/dataTables.bootstrap4.min.css"> 
<link rel="stylesheet" href="/assets/dataTables/css/responsive.bootstrap4.min.css"> 
{% endblock %} 

{% block body %}
    {% include 'Users/addUser.html.twig' %}
    {% include 'Users/deleteUser.html.twig' %}
    {% include 'Users/editUser.html.twig' %}

    <div class="container userReport">


        {{ alert.item('¡Felicidades','Se ha agregado al usuario correctamente.') }}
        {{ alert.item('¡Felicidades','Se han modificado los datos del usuario correctamente.') }}
        {{ alert.item('¡Felicidades','Se ha borrado al usuario correctamente.') }}


        <div class="card">
            <div class="card-header text-left">
                <a class="btn detalle" id="goBack" title="Volver al inicio" href="/"><i class="fa fa-reply" aria-hidden="true"></i></a>
                <h3>Usuarios</h3>
            </div>
            <div class="card-block">
                <div class="tablePage">
                    <button type="button" id="agregar-btn" class="btn btn-primary btn-sm" data-toggle="modal" data-target="#addUser">Agregar</button>
                                    <select class="custom-select" id="stateFilter">
                                        <option selected>Seleccione Estado</option>
                                        <option value="Activo">Activo</option>
                                        <option value="Bloqueado">Bloqueado</option>
                                    </select>    
                    <table class="table table-striped" id="usuarios">
                    <thead>
                        <tr>
                            <th>Nombre de Usuario</th>
                            <th>Nombre</th>
                            <th>Apellido</th>
                            <th>Email</th>
                            <th>Roles</th>
                            <th>Estado</th>
                            <th>Opciones</th>
                        </tr>
                    </thead>
                    </tbody>
                        {% include 'Users/users.html.twig' %}
                    </tbody>
                    </table>
                </div>
            </div>
        </div>
    </div>
{% endblock %} 


{% block javascripts %}
    <script src="/assets/jquery-validate/jquery.validate.min.js"></script>
    <script src="/assets/dataTables/js/datatables.min.js"></script>
    <script src="/assets/dataTables/js/responsive.bootstrap4.min.js"></script>
    <script src="/dist/js/users.js"></script>
    <script src="/dist/js/multi-step-modal.js"></script>
    <script src="/dist/js/addUserValidation.js"></script>
    <script src="/dist/js/editUserValidation.js"></script>

    {% if newErrors is defined %}
        <script>
            $('#addUser').modal('show')
        </script>


    {% elseif editErrors is defined %}
        <script>
            $('#editUser').modal('show')
        </script>
    {% endif %}


{% endblock %}
